\ProvidesPackage{rweave}

\documentclass[a4paper]{article}

\RequirePackage{listings}
\RequirePackage{xcolor}
\RequirePackage{caption}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{fond}{RGB}{253,245,230}
\definecolor{texte}{RGB}{139,71,38}

\definecolor{lightgray}{rgb}{0.95, 0.95, 0.95}
\definecolor{darkgray}{rgb}{0.4, 0.4, 0.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}
\definecolor{editorGray}{rgb}{0.95, 0.95, 0.95}
\definecolor{editorOcher}{rgb}{1, 0.5, 0} % #FF7F00 -> rgb(239, 169, 0)
\definecolor{editorGreen}{rgb}{0, 0.5, 0} % #007C00 -> rgb(0, 124, 0)


\def\rweave #1<#2.{\lstset{language={#2},caption={Code pour le fichier #1}}}
\lstset{
  backgroundcolor=\color{fond},
  basicstyle={\small\ttfamily},
  xleftmargin={0.75cm},
  numbers=left,
  numberstyle=\footnotesize,
  numbersep=5pt,
  frame=lines,
  stepnumber=1,
  firstnumber=1,
  numberfirstline=true,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{darkgray}\ttfamily,
  ndkeywordstyle=\color{editorGreen}\bfseries,
  stringstyle=\color{editorOcher},
  showspaces=false,
  showstringspaces=true,
  extendedchars=true,
  breaklines=true,
  captionpos=b,
  tabsize=2,
  showtabs=false,
}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{tikz}
\lstdefinelanguage{JavaScript}{
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
  morekeywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break}
}

\lstdefinelanguage{HTML5}{
        language=html,
        sensitive=true, 
        alsoletter={<>=-},
        otherkeywords={
        % HTML tags
        <html>, <head>, <title>, </title>, <meta, />, </head>, <body>,
        <canvas, \/canvas>, <script>, </script>, </body>, </html>, <!, html>, <style>, </style>, ><
        },  
        ndkeywords={
        % General
        =,
        % HTML attributes
        charset=, id=, width=, height=,
        % CSS properties
        border:, transform:, -moz-transform:, transition-duration:, transition-property:, transition-timing-function:
        },  
        morecomment=[s]{<!--}{-->},
        tag=[s]
}
\lstdefinelanguage{CSS}{
  keywords={color,background-image:,margin,padding,font,weight,display,position,top,left,right,bottom,list,style,border,size,white,space,min,width, transition:, transform:, transition-property, transition-duration, transition-timing-function},	
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  alsoletter={:},
  alsodigit={-}
}
